% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prepare_split_data_pd.R
\name{prepare_split_data_pd}
\alias{prepare_split_data_pd}
\title{Prepare PD Data for Tree Splitting}
\usage{
prepare_split_data_pd(
  effect,
  data,
  target.feature.name = NULL,
  feature.set = NULL,
  split.feature = NULL,
  order.method = "mds"
)
}
\arguments{
\item{effect}{Effect object or list (e.g. from FeatureEffect).}

\item{data}{Data frame or data.table. Training data (features and target).}

\item{target.feature.name}{Character or NULL. Name of the target variable; required for level ordering.}

\item{feature.set}{Character or NULL. Features in effect; NULL = all non-target columns.}

\item{split.feature}{Character or NULL. Features to consider for splitting; NULL = all.}

\item{order.method}{Character. Categorical level order: \code{"mds"}, \code{"pca"},
\code{"random"}, or \code{"raw"} (keep existing factor level order; default \code{"mds"}).}
}
\value{
List with \code{Z} (split-feature matrix), \code{Y} (mean-centered effects), \code{grid}.
}
\description{
Validates features, converts character columns to ordered factors (for categorical
split features), builds the split-feature matrix Z, and mean-centers effects.
Categorical level ordering uses \code{order_categorical_levels} so PD search
(e.g. C++) receives Z with a data-driven level order without changing search code.
}
